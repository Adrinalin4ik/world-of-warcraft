{"version":3,"file":"mipmap.js","names":["_blpLib","_interopRequireDefault","require","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","Mipmap","blp","level","get","BLPLib","blp_width","handle","blp_height","data","blp_convert","file","size","width","height","reinterpret","pixels","blue","red","_default","exports"],"sources":["../../src/lib/blp/mipmap.js"],"sourcesContent":["import BLPLib from './blp-lib';\n\nclass Mipmap {\n\n  constructor(blp, level) {\n    this.blp = blp;\n    this.level = level;\n  }\n\n  get width() {\n    return BLPLib.blp_width(this.blp.handle, this.level);\n  }\n\n  get height() {\n    return BLPLib.blp_height(this.blp.handle, this.level);\n  }\n\n  get data() {\n    const data = BLPLib.blp_convert(this.blp.file, this.blp.handle, this.level);\n    const size = this.width * this.height * 4;\n    return data.reinterpret(size, 0);\n  }\n\n  get bgra() {\n    return this.data;\n  }\n\n  get rgba() {\n    const pixels = this.data;\n    const length = pixels.length;\n\n    for (let i = 0; i < length; i += 4) {\n      const blue = pixels[i];\n      const red = pixels[i + 2];\n      pixels[i] = red;\n      pixels[i + 2] = blue;\n    }\n\n    return pixels;\n  }\n\n}\n\nexport default Mipmap;\n"],"mappings":"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"}