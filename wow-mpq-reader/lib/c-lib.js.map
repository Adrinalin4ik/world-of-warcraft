{"version":3,"file":"c-lib.js","names":["_ffiNapi","_interopRequireDefault","require","_refNapi","obj","__esModule","bool","ref","types","string","CString","voidPtr","refType","FILE","library","process","platform","match","lib","ffi","Library","fopen","fclose","_default","exports"],"sources":["../src/lib/c-lib.js"],"sourcesContent":["import ffi from 'ffi-napi';\nimport ref from 'ref-napi';\n\nconst { bool } = ref.types;\nconst string = ref.types.CString;\n\nconst voidPtr = ref.refType(ref.types.void);\n\nconst FILE = voidPtr;\n\nconst library = (process.platform.match(/win32/)) ? 'msvcr120' : 'libc';\n\nconst lib = new ffi.Library(library, {\n  fopen: [FILE, [string, string]],\n  fclose: [bool, [FILE]]\n});\n\nexport default lib;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAE3B,IAAQE,IAAI,GAAKC,mBAAG,CAACC,KAAK,CAAlBF,IAAI;AACZ,IAAMG,MAAM,GAAGF,mBAAG,CAACC,KAAK,CAACE,OAAO;AAEhC,IAAMC,OAAO,GAAGJ,mBAAG,CAACK,OAAO,CAACL,mBAAG,CAACC,KAAK,QAAK,CAAC;AAE3C,IAAMK,IAAI,GAAGF,OAAO;AAEpB,IAAMG,OAAO,GAAIC,OAAO,CAACC,QAAQ,CAACC,KAAK,CAAC,OAAO,CAAC,GAAI,UAAU,GAAG,MAAM;AAEvE,IAAMC,GAAG,GAAG,IAAIC,mBAAG,CAACC,OAAO,CAACN,OAAO,EAAE;EACnCO,KAAK,EAAE,CAACR,IAAI,EAAE,CAACJ,MAAM,EAAEA,MAAM,CAAC,CAAC;EAC/Ba,MAAM,EAAE,CAAChB,IAAI,EAAE,CAACO,IAAI,CAAC;AACvB,CAAC,CAAC;AAAC,IAAAU,QAAA,GAEYL,GAAG;AAAAM,OAAA,cAAAD,QAAA"}