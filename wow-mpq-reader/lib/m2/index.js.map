{"version":3,"file":"index.js","names":["r","_interopRequireWildcard","require","_types","_animationBlock","_interopRequireDefault","_nofs","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Animation","Struct","id","uint16le","subID","length","uint32le","movementSpeed","floatle","flags","probability","int16le","unknowns","Reserved","blendTime","minBoundingBox","Vec3Float","maxBoundingBox","boundingRadius","nextAnimationID","alias","Bone","keyBoneID","int32le","parentID","submeshID","translation","AnimationBlock","float32array3","rotation","compfixed16array4","scaling","pivotPoint","billboardType","billboarded","animated","Material","renderFlags","blendingMode","Texture","type","filename","Pointer","String","Vertex","position","boneWeights","Array","uint8","boneIndices","normal","textureCoords","float32array2","Color","color","alpha","color16","UVAnimation","_default","signature","version","names","Nofs","name","sequences","animations","animationLookups","bones","keyBoneLookups","vertices","viewCount","vertexColorAnimations","textures","transparencyAnimations","uvAnimations","replacableTextures","materials","boneLookups","textureLookups","textureMappings","transparencyAnimationLookups","uvAnimationLookups","minVertexBox","maxVertexBox","vertexRadius","boundingTriangles","boundingVertices","boundingNormals","attachments","attachmentLookups","events","lights","cameras","cameraLookups","ribbonEmitters","particleEmitters","blendingOverrides","Optional","overrideBlending","canInstance","instance","forEach","bone","uvAnimation","transparency","keyframeCount","firstKeyframe","value","exports"],"sources":["../../src/lib/m2/index.js"],"sourcesContent":["import * as r from 'restructure';\n\nimport { color16, compfixed16array4, float32array2, float32array3, Vec3Float } from '../types';\nimport AnimationBlock from './animation-block';\nimport Nofs from './nofs';\n\nconst Animation = new r.Struct({\n  id: r.uint16le,\n  subID: r.uint16le,\n  length: r.uint32le,\n  movementSpeed: r.floatle,\n  flags: r.uint32le,\n  probability: r.int16le,\n\n  unknowns: new r.Reserved(r.uint16le, 5),\n\n  blendTime: r.uint32le,\n  minBoundingBox: Vec3Float,\n  maxBoundingBox: Vec3Float,\n  boundingRadius: r.floatle,\n  nextAnimationID: r.int16le,\n  alias: r.uint16le\n});\n\nconst Bone = new r.Struct({\n  keyBoneID: r.int32le,\n  flags: r.uint32le,\n  parentID: r.int16le,\n  submeshID: r.int16le,\n\n  unknowns: new r.Reserved(r.uint16le, 2),\n\n  translation: new AnimationBlock(float32array3),\n  rotation: new AnimationBlock(compfixed16array4),\n  scaling: new AnimationBlock(float32array3),\n\n  pivotPoint: float32array3,\n\n  billboardType: function() {\n    // Spherical\n    if (this.flags & 0x08) {\n      return 0;\n    // Cylindrical; locked to x\n    } else if (this.flags & 0x10) {\n      return 1;\n    // Cylindrical; locked to y\n    } else if (this.flags & 0x20) {\n      return 2;\n    // Cylindrical; locked to z\n    } else if (this.flags & 0x40) {\n      return 3;\n    } else {\n      return null;\n    }\n  },\n\n  billboarded: function() {\n    return this.billboardType !== null;\n  },\n\n  animated: function() {\n    return this.translation.animated ||\n           this.rotation.animated ||\n           this.scaling.animated ||\n           this.billboarded;\n  }\n});\n\nconst Material = new r.Struct({\n  renderFlags: r.uint16le,\n  blendingMode: r.uint16le\n});\n\nconst Texture = new r.Struct({\n  type: r.uint32le,\n  flags: r.uint32le,\n  length: r.uint32le,\n  filename: new r.Pointer(r.uint32le, new r.String(null), {type: 'global'})\n});\n\nconst Vertex = new r.Struct({\n  position: float32array3,\n  boneWeights: new r.Array(r.uint8, 4),\n  boneIndices: new r.Array(r.uint8, 4),\n  normal: float32array3,\n  textureCoords: new r.Array(float32array2, 2)\n});\n\nconst Color = new r.Struct({\n  color: new AnimationBlock(float32array3),\n  alpha: new AnimationBlock(color16)\n});\n\nconst UVAnimation = new r.Struct({\n  translation: new AnimationBlock(float32array3),\n  rotation: new AnimationBlock(compfixed16array4),\n  scaling: new AnimationBlock(float32array3),\n\n  animated: function() {\n    return this.translation.animated ||\n      this.rotation.animated ||\n      this.scaling.animated;\n  }\n});\n\nexport default new r.Struct({\n  signature: new r.String(4),\n  version: r.uint32le,\n\n  names: new Nofs(new r.String()),\n  name: function() {\n    return this.names[0];\n  },\n\n  flags: r.uint32le,\n\n  sequences: new Nofs(r.uint32le),\n  animations: new Nofs(Animation),\n  animationLookups: new Nofs(),\n  bones: new Nofs(Bone),\n  keyBoneLookups: new Nofs(r.int16le),\n\n  vertices: new Nofs(Vertex),\n\n  viewCount: r.uint32le,\n\n  vertexColorAnimations: new Nofs(Color),\n  textures: new Nofs(Texture),\n  transparencyAnimations: new Nofs(new AnimationBlock(color16)),\n  uvAnimations: new Nofs(UVAnimation),\n  replacableTextures: new Nofs(),\n  materials: new Nofs(Material),\n  boneLookups: new Nofs(r.int16le),\n  textureLookups: new Nofs(r.int16le),\n  textureMappings: new Nofs(r.int16le),\n  transparencyAnimationLookups: new Nofs(r.int16le),\n  uvAnimationLookups: new Nofs(r.int16le),\n\n  minVertexBox: Vec3Float,\n  maxVertexBox: Vec3Float,\n  vertexRadius: r.floatle,\n\n  minBoundingBox: Vec3Float,\n  maxBoundingBox: Vec3Float,\n  boundingRadius: r.floatle,\n\n  boundingTriangles: new Nofs(r.uint16le),\n  boundingVertices: new Nofs(Vec3Float),\n  boundingNormals: new Nofs(Vec3Float),\n  attachments: new Nofs(),\n  attachmentLookups: new Nofs(),\n  events: new Nofs(),\n  lights: new Nofs(),\n  cameras: new Nofs(),\n  cameraLookups: new Nofs(),\n  ribbonEmitters: new Nofs(),\n  particleEmitters: new Nofs(),\n\n  blendingOverrides: new r.Optional(new Nofs(r.uint16le), function() {\n    return (this.flags & 0x08) !== 0;\n  }),\n\n  overrideBlending: function() {\n    return (this.flags & 0x08) !== 0;\n  },\n\n  canInstance: function() {\n    let instance = true;\n\n    this.bones.forEach((bone) => {\n      if (bone.animated) {\n        instance = false;\n      }\n    });\n\n    return instance;\n  },\n\n  animated: function() {\n    let animated = false;\n\n    this.bones.forEach((bone) => {\n      if (bone.animated) {\n        animated = true;\n      }\n    });\n\n    this.uvAnimations.forEach((uvAnimation) => {\n      if (uvAnimation.animated) {\n        animated = true;\n      }\n    });\n\n    this.transparencyAnimations.forEach((transparency) => {\n      if (transparency.animated) {\n        if (transparency.keyframeCount > 1) {\n          animated = true;\n        } else if (transparency.firstKeyframe.value !== 1.0) {\n          animated = true;\n        }\n      }\n    });\n\n    this.vertexColorAnimations.forEach((color) => {\n      if (color.color.animated || color.alpha.animated) {\n        animated = true;\n      }\n    });\n\n    return animated;\n  }\n});\n"],"mappings":"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"}