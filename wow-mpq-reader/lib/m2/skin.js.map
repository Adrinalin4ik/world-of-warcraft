{"version":3,"file":"skin.js","names":["r","_interopRequireWildcard","require","_types","_nofs","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Submesh","Struct","partID","uint16le","level","startVertex","vertexCount","startTriangle","triangleCount","boneCount","startBone","boneInfluences","rootBone","centerMass","Vec3Float","centerBoundingBox","radius","floatle","Batch","flags","shaderID","submeshIndex","submeshIndex2","vertexColorAnimationIndex","int16le","materialIndex","layer","opCount","textureLookup","textureMappingIndex","transparencyAnimationLookup","uvAnimationLookup","_default","signature","String","indices","Nofs","triangles","boneIndices","Array","uint8","submeshes","batches","uint32le","exports"],"sources":["../../src/lib/m2/skin.js"],"sourcesContent":["import * as r from 'restructure';\n\nimport { Vec3Float } from '../types';\nimport Nofs from './nofs';\n\nconst Submesh = new r.Struct({\n  partID: r.uint16le,\n  level: r.uint16le,\n  startVertex: r.uint16le,\n  vertexCount: r.uint16le,\n  startTriangle: r.uint16le,\n  triangleCount: r.uint16le,\n  boneCount: r.uint16le,\n  startBone: r.uint16le,\n  boneInfluences: r.uint16le,\n  rootBone: r.uint16le,\n  centerMass: Vec3Float,\n  centerBoundingBox: Vec3Float,\n  radius: r.floatle\n});\n\nconst Batch = new r.Struct({\n  flags: r.uint16le,\n  shaderID: r.uint16le,\n  submeshIndex: r.uint16le,\n  submeshIndex2: r.uint16le,\n  vertexColorAnimationIndex: r.int16le,\n  materialIndex: r.uint16le,\n  layer: r.uint16le,\n  opCount: r.uint16le,\n  textureLookup: r.uint16le,\n  textureMappingIndex: r.uint16le,\n  transparencyAnimationLookup: r.uint16le,\n  uvAnimationLookup: r.uint16le\n});\n\nexport default new r.Struct({\n  signature: new r.String(4),\n  indices: new Nofs(r.uint16le),\n  triangles: new Nofs(r.uint16le),\n  boneIndices: new Nofs(new r.Array(r.uint8, 4)),\n  submeshes: new Nofs(Submesh),\n  batches: new Nofs(Batch),\n  boneCount: r.uint32le\n});\n"],"mappings":"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"}